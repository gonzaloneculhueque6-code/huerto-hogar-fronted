{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gonzalo\\\\Desktop\\\\huerto-hogar-fronted\\\\src\\\\components\\\\AgregarModificar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport regionesYComunas from '../data/regionComuna.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AgregarModificar({\n  user,\n  onSave,\n  onCancel,\n  allUsers\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellidos: '',\n    rut: '',\n    correo: '',\n    contrasena: '',\n    confirmarContrasena: '',\n    direccion: '',\n    telefono: '',\n    region: '',\n    comuna: '',\n    rol: '',\n    ...user\n  });\n  const [comunasDisponibles, setComunasDisponibles] = useState([]);\n  const [errors, setErrors] = useState({});\n  const isEditing = user && user.correo && !user.correo.startsWith('TEMP-');\n  useEffect(() => {\n    if (formData.region) {\n      const regionEncontrada = regionesYComunas.find(r => r.nombre === formData.region);\n      setComunasDisponibles(regionEncontrada ? regionEncontrada.comunas : []);\n    } else {\n      setComunasDisponibles([]);\n    }\n  }, [formData.region]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleRegionChange = e => {\n    const regionNombre = e.target.value;\n    setFormData(prevForm => ({\n      ...prevForm,\n      region: regionNombre,\n      comuna: ''\n    }));\n  };\n  const validateForm = () => {\n    var _formData$nombre, _formData$apellidos, _formData$rut, _formData$correo, _formData$direccion;\n    const newErrors = {};\n    const correoRegex = /@(duoc\\.cl|profesor\\.duoc\\.cl|gmail\\.com)$/;\n    if (!((_formData$nombre = formData.nombre) !== null && _formData$nombre !== void 0 && _formData$nombre.trim())) newErrors.nombre = 'El nombre es requerido.';\n    if (!((_formData$apellidos = formData.apellidos) !== null && _formData$apellidos !== void 0 && _formData$apellidos.trim())) newErrors.apellidos = 'Los apellidos son requeridos.';\n    if (!((_formData$rut = formData.rut) !== null && _formData$rut !== void 0 && _formData$rut.trim())) newErrors.rut = 'El RUT es requerido.';\n    if (!((_formData$correo = formData.correo) !== null && _formData$correo !== void 0 && _formData$correo.trim())) newErrors.correo = 'El correo es requerido.';else if (!correoRegex.test(formData.correo)) newErrors.correo = 'Correo debe terminar en @duoc.cl, @profesor.duoc.cl o @gmail.com.';else {\n      const correoExistente = Array.isArray(allUsers) && allUsers.find(u => u.correo.toLowerCase() === formData.correo.toLowerCase());\n      if (!isEditing && correoExistente) {\n        newErrors.correo = 'Este correo ya está registrado.';\n      }\n      if (isEditing && correoExistente && correoExistente.correo !== user.correo) {\n        newErrors.correo = 'Este correo ya pertenece a otro usuario.';\n      }\n    }\n    if (!isEditing || formData.contrasena) {\n      if (!formData.contrasena) newErrors.contrasena = 'La contraseña es requerida.';else if (formData.contrasena.length < 4 || formData.contrasena.length > 10) newErrors.contrasena = 'Contraseña debe tener entre 4 y 10 caracteres.';\n      if (formData.contrasena && formData.contrasena !== formData.confirmarContrasena) {\n        newErrors.confirmarContrasena = 'Las contraseñas no coinciden.';\n      }\n      if (formData.contrasena && !formData.confirmarContrasena) {\n        newErrors.confirmarContrasena = 'Debe confirmar la contraseña.';\n      }\n    }\n\n    // Validaciones de Dirección \n    if (!((_formData$direccion = formData.direccion) !== null && _formData$direccion !== void 0 && _formData$direccion.trim())) newErrors.direccion = 'La dirección es requerida.';\n    if (!formData.region) newErrors.region = 'La región es requerida.';\n    if (!formData.comuna) newErrors.comuna = 'La comuna es requerida.';\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (validateForm()) {\n      const {\n        confirmarContrasena,\n        ...userDataToSave\n      } = formData;\n      if (isEditing && !userDataToSave.contrasena) {\n        delete userDataToSave.contrasena;\n      }\n      onSave(userDataToSave);\n    } else {\n      alert(\"Por favor corrija los errores en el formulario.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow-sm p-4 mb-4 caja_formulario\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: isEditing ? 'Modificar Usuario' : 'Agregar Nuevo Usuario'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Nombre*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: `form-control ${errors.nombre ? 'is-invalid' : ''}`,\n            name: \"nombre\",\n            value: formData.nombre || '',\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), errors.nombre && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Apellidos*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: `form-control ${errors.apellidos ? 'is-invalid' : ''}`,\n            name: \"apellidos\",\n            value: formData.apellidos || '',\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), errors.apellidos && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.apellidos\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"RUT*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: `form-control ${errors.rut ? 'is-invalid' : ''}`,\n            name: \"rut\",\n            value: formData.rut || '',\n            onChange: handleChange,\n            placeholder: \"Ej: 12345678-k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), errors.rut && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.rut\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Tel\\xE9fono (opcional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            className: \"form-control\",\n            name: \"telefono\",\n            value: formData.telefono || '',\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Correo*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: `form-control ${errors.correo ? 'is-invalid' : ''}`,\n            name: \"correo\",\n            value: formData.correo || '',\n            onChange: handleChange,\n            disabled: isEditing\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), errors.correo && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.correo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 31\n          }, this), isEditing && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted d-block\",\n            children: \"El correo no se puede modificar.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: [\"Contrase\\xF1a* \", isEditing && '(Dejar en blanco para no cambiar)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: `form-control ${errors.contrasena ? 'is-invalid' : ''}`,\n            name: \"contrasena\",\n            value: formData.contrasena || '',\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), errors.contrasena && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.contrasena\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: (!isEditing || formData.contrasena) && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Confirmar Contrase\\xF1a*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: `form-control ${errors.confirmarContrasena ? 'is-invalid' : ''}`,\n              name: \"confirmarContrasena\",\n              value: formData.confirmarContrasena || '',\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), errors.confirmarContrasena && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: errors.confirmarContrasena\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Direcci\\xF3n* (Calle y N\\xFAmero)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: `form-control ${errors.direccion ? 'is-invalid' : ''}`,\n          name: \"direccion\",\n          value: formData.direccion || '',\n          onChange: handleChange,\n          placeholder: \"Ej: Av. Siempreviva 123\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), errors.direccion && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.direccion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Regi\\xF3n*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: `form-select ${errors.region ? 'is-invalid' : ''}`,\n            name: \"region\",\n            value: formData.region || '',\n            onChange: handleRegionChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccione Regi\\xF3n...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), regionesYComunas.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: region.nombre,\n              children: region.nombre\n            }, region.nombre, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 48\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), errors.region && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.region\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Comuna*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: `form-select ${errors.comuna ? 'is-invalid' : ''}`,\n            name: \"comuna\",\n            value: formData.comuna || '',\n            onChange: handleChange,\n            disabled: comunasDisponibles.length === 0,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccione Comuna...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), comunasDisponibles.map(comuna => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: comuna,\n              children: comuna\n            }, comuna, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 50\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), errors.comuna && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.comuna\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label fw-bold\",\n          children: \"Tipo de Usuario (Rol)*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-select\",\n          name: \"rol\",\n          value: formData.rol || 'cliente',\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cliente\",\n            children: \"Cliente (Comprador)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"vendedor\",\n            children: \"Vendedor (Gestor)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Administrador (Acceso Total)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-muted\",\n          children: \"Nota: El \\\"Vendedor\\\" tendr\\xE1 permisos limitados, \\\"Admin\\\" tiene acceso total.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-end mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary me-2\",\n          onClick: onCancel,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas ${isEditing ? 'fa-save' : 'fa-plus'} me-2`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), isEditing ? 'Guardar Cambios' : 'Agregar Usuario']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(AgregarModificar, \"e02xo71hSpAFi02AybhDgK+lnQY=\");\n_c = AgregarModificar;\nvar _c;\n$RefreshReg$(_c, \"AgregarModificar\");","map":{"version":3,"names":["React","useState","useEffect","regionesYComunas","jsxDEV","_jsxDEV","Fragment","_Fragment","AgregarModificar","user","onSave","onCancel","allUsers","_s","formData","setFormData","nombre","apellidos","rut","correo","contrasena","confirmarContrasena","direccion","telefono","region","comuna","rol","comunasDisponibles","setComunasDisponibles","errors","setErrors","isEditing","startsWith","regionEncontrada","find","r","comunas","handleChange","e","name","value","target","handleRegionChange","regionNombre","prevForm","validateForm","_formData$nombre","_formData$apellidos","_formData$rut","_formData$correo","_formData$direccion","newErrors","correoRegex","trim","test","correoExistente","Array","isArray","u","toLowerCase","length","Object","keys","handleSubmit","preventDefault","userDataToSave","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","disabled","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Gonzalo/Desktop/huerto-hogar-fronted/src/components/AgregarModificar.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport regionesYComunas from '../data/regionComuna.js';\n\n\nexport default function AgregarModificar({ user, onSave, onCancel, allUsers }) {\n\n\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellidos: '',\n    rut: '',\n    correo: '',\n    contrasena: '',\n    confirmarContrasena: '',\n    direccion: '',\n    telefono: '',\n    region: '',\n    comuna: '',\n    rol: '',\n    ...user\n  });\n\n  const [comunasDisponibles, setComunasDisponibles] = useState([]);\n  const [errors, setErrors] = useState({});\n  const isEditing = user && user.correo && !user.correo.startsWith('TEMP-');\n\n  useEffect(() => {\n    if (formData.region) {\n      const regionEncontrada = regionesYComunas.find(r => r.nombre === formData.region);\n      setComunasDisponibles(regionEncontrada ? regionEncontrada.comunas : []);\n    } else {\n      setComunasDisponibles([]);\n    }\n  }, [formData.region]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleRegionChange = (e) => {\n    const regionNombre = e.target.value;\n    setFormData(prevForm => ({\n      ...prevForm,\n      region: regionNombre,\n      comuna: ''\n    }));\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    const correoRegex = /@(duoc\\.cl|profesor\\.duoc\\.cl|gmail\\.com)$/;\n\n    if (!formData.nombre?.trim()) newErrors.nombre = 'El nombre es requerido.';\n    if (!formData.apellidos?.trim()) newErrors.apellidos = 'Los apellidos son requeridos.';\n    if (!formData.rut?.trim()) newErrors.rut = 'El RUT es requerido.';\n    if (!formData.correo?.trim()) newErrors.correo = 'El correo es requerido.';\n    else if (!correoRegex.test(formData.correo)) newErrors.correo = 'Correo debe terminar en @duoc.cl, @profesor.duoc.cl o @gmail.com.';\n    else {\n      const correoExistente = Array.isArray(allUsers) && allUsers.find(u => u.correo.toLowerCase() === formData.correo.toLowerCase());\n      if (!isEditing && correoExistente) {\n        newErrors.correo = 'Este correo ya está registrado.';\n      }\n      if (isEditing && correoExistente && correoExistente.correo !== user.correo) {\n        newErrors.correo = 'Este correo ya pertenece a otro usuario.';\n      }\n    }\n    if (!isEditing || formData.contrasena) {\n      if (!formData.contrasena) newErrors.contrasena = 'La contraseña es requerida.';\n      else if (formData.contrasena.length < 4 || formData.contrasena.length > 10) newErrors.contrasena = 'Contraseña debe tener entre 4 y 10 caracteres.';\n\n      if (formData.contrasena && formData.contrasena !== formData.confirmarContrasena) {\n        newErrors.confirmarContrasena = 'Las contraseñas no coinciden.';\n      }\n      if (formData.contrasena && !formData.confirmarContrasena) {\n        newErrors.confirmarContrasena = 'Debe confirmar la contraseña.';\n      }\n    }\n\n    // Validaciones de Dirección \n    if (!formData.direccion?.trim()) newErrors.direccion = 'La dirección es requerida.';\n    if (!formData.region) newErrors.region = 'La región es requerida.';\n    if (!formData.comuna) newErrors.comuna = 'La comuna es requerida.';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (validateForm()) {\n      const { confirmarContrasena, ...userDataToSave } = formData;\n      if (isEditing && !userDataToSave.contrasena) {\n        delete userDataToSave.contrasena;\n      }\n      onSave(userDataToSave);\n\n    } else {\n      alert(\"Por favor corrija los errores en el formulario.\");\n    }\n  };\n\n\n  return (\n    <div className=\"card shadow-sm p-4 mb-4 caja_formulario\">\n      <h3>{isEditing ? 'Modificar Usuario' : 'Agregar Nuevo Usuario'}</h3>\n      <form onSubmit={handleSubmit}>\n\n        {/* -Inputs del formulario  */}\n        {/* Nombre y Apellidos */}\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">Nombre*</label>\n            <input type=\"text\" className={`form-control ${errors.nombre ? 'is-invalid' : ''}`} name=\"nombre\" value={formData.nombre || ''} onChange={handleChange} />\n            {errors.nombre && <div className=\"invalid-feedback\">{errors.nombre}</div>}\n          </div>\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">Apellidos*</label>\n            <input type=\"text\" className={`form-control ${errors.apellidos ? 'is-invalid' : ''}`} name=\"apellidos\" value={formData.apellidos || ''} onChange={handleChange} />\n            {errors.apellidos && <div className=\"invalid-feedback\">{errors.apellidos}</div>}\n          </div>\n        </div>\n        {/* RUT y Teléfono */}\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">RUT*</label>\n            <input type=\"text\" className={`form-control ${errors.rut ? 'is-invalid' : ''}`} name=\"rut\" value={formData.rut || ''} onChange={handleChange} placeholder=\"Ej: 12345678-k\" />\n            {errors.rut && <div className=\"invalid-feedback\">{errors.rut}</div>}\n          </div>\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">Teléfono (opcional)</label>\n            <input type=\"tel\" className=\"form-control\" name=\"telefono\" value={formData.telefono || ''} onChange={handleChange} />\n          </div>\n        </div>\n        {/* Correo */}\n        <div className=\"row\">\n          <div className=\"col-md-12 mb-3\">\n            <label className=\"form-label\">Correo*</label>\n            <input type=\"email\" className={`form-control ${errors.correo ? 'is-invalid' : ''}`} name=\"correo\" value={formData.correo || ''} onChange={handleChange} disabled={isEditing} />\n            {errors.correo && <div className=\"invalid-feedback\">{errors.correo}</div>}\n            {isEditing && <small className=\"text-muted d-block\">El correo no se puede modificar.</small>}\n          </div>\n        </div>\n        {/* Contraseña */}\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">Contraseña* {isEditing && '(Dejar en blanco para no cambiar)'}</label>\n            <input type=\"password\" className={`form-control ${errors.contrasena ? 'is-invalid' : ''}`} name=\"contrasena\" value={formData.contrasena || ''} onChange={handleChange} />\n            {errors.contrasena && <div className=\"invalid-feedback\">{errors.contrasena}</div>}\n          </div>\n          <div className=\"col-md-6 mb-3\">\n            {(!isEditing || formData.contrasena) && (\n              <>\n                <label className=\"form-label\">Confirmar Contraseña*</label>\n                <input type=\"password\" className={`form-control ${errors.confirmarContrasena ? 'is-invalid' : ''}`} name=\"confirmarContrasena\" value={formData.confirmarContrasena || ''} onChange={handleChange} />\n                {errors.confirmarContrasena && <div className=\"invalid-feedback\">{errors.confirmarContrasena}</div>}\n              </>\n            )}\n          </div>\n        </div>\n        {/* Dirección */}\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Dirección* (Calle y Número)</label>\n          <input type=\"text\" className={`form-control ${errors.direccion ? 'is-invalid' : ''}`} name=\"direccion\" value={formData.direccion || ''} onChange={handleChange} placeholder=\"Ej: Av. Siempreviva 123\" />\n          {errors.direccion && <div className=\"invalid-feedback\">{errors.direccion}</div>}\n        </div>\n        {/* Región y Comuna */}\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">Región*</label>\n            <select className={`form-select ${errors.region ? 'is-invalid' : ''}`} name=\"region\" value={formData.region || ''} onChange={handleRegionChange}>\n              <option value=\"\">Seleccione Región...</option>\n              {regionesYComunas.map(region => (<option key={region.nombre} value={region.nombre}>{region.nombre}</option>))}\n            </select>\n            {errors.region && <div className=\"invalid-feedback\">{errors.region}</div>}\n          </div>\n          <div className=\"col-md-6 mb-3\">\n            <label className=\"form-label\">Comuna*</label>\n            <select className={`form-select ${errors.comuna ? 'is-invalid' : ''}`} name=\"comuna\" value={formData.comuna || ''} onChange={handleChange} disabled={comunasDisponibles.length === 0}>\n              <option value=\"\">Seleccione Comuna...</option>\n              {comunasDisponibles.map(comuna => (<option key={comuna} value={comuna}>{comuna}</option>))}\n            </select>\n            {errors.comuna && <div className=\"invalid-feedback\">{errors.comuna}</div>}\n          </div>\n        </div>\n        <div className=\"mb-3\">\n          <label className=\"form-label fw-bold\">Tipo de Usuario (Rol)*</label>\n          <select\n            className=\"form-select\"\n            name=\"rol\"\n            value={formData.rol || 'cliente'} \n            onChange={handleChange}\n          >\n            <option value=\"cliente\">Cliente (Comprador)</option>\n            <option value=\"vendedor\">Vendedor (Gestor)</option>\n            <option value=\"admin\">Administrador (Acceso Total)</option>\n          </select>\n          <small className=\"text-muted\">\n            Nota: El \"Vendedor\" tendrá permisos limitados, \"Admin\" tiene acceso total.\n          </small>\n        </div>\n\n        <div className=\"d-flex justify-content-end mt-3\">\n          <button type=\"button\" className=\"btn btn-secondary me-2\" onClick={onCancel}>Cancelar</button>\n          <button type=\"submit\" className=\"button\">\n            <i className={`fas ${isEditing ? 'fa-save' : 'fa-plus'} me-2`}></i>\n            {isEditing ? 'Guardar Cambios' : 'Agregar Usuario'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,gBAAgB,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAGvD,eAAe,SAASC,gBAAgBA,CAAC;EAAEC,IAAI;EAAEC,MAAM;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAG7E,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC;IACvCe,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE,EAAE;IACbC,GAAG,EAAE,EAAE;IACPC,MAAM,EAAE,EAAE;IACVC,UAAU,EAAE,EAAE;IACdC,mBAAmB,EAAE,EAAE;IACvBC,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,GAAG,EAAE,EAAE;IACP,GAAGjB;EACL,CAAC,CAAC;EAEF,MAAM,CAACkB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAAC4B,MAAM,EAAEC,SAAS,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM8B,SAAS,GAAGtB,IAAI,IAAIA,IAAI,CAACU,MAAM,IAAI,CAACV,IAAI,CAACU,MAAM,CAACa,UAAU,CAAC,OAAO,CAAC;EAEzE9B,SAAS,CAAC,MAAM;IACd,IAAIY,QAAQ,CAACU,MAAM,EAAE;MACnB,MAAMS,gBAAgB,GAAG9B,gBAAgB,CAAC+B,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACnB,MAAM,KAAKF,QAAQ,CAACU,MAAM,CAAC;MACjFI,qBAAqB,CAACK,gBAAgB,GAAGA,gBAAgB,CAACG,OAAO,GAAG,EAAE,CAAC;IACzE,CAAC,MAAM;MACLR,qBAAqB,CAAC,EAAE,CAAC;IAC3B;EACF,CAAC,EAAE,CAACd,QAAQ,CAACU,MAAM,CAAC,CAAC;EAErB,MAAMa,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChC1B,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACyB,IAAI,GAAGC;IAAM,CAAC,CAAC;EAC7C,CAAC;EAED,MAAME,kBAAkB,GAAIJ,CAAC,IAAK;IAChC,MAAMK,YAAY,GAAGL,CAAC,CAACG,MAAM,CAACD,KAAK;IACnCzB,WAAW,CAAC6B,QAAQ,KAAK;MACvB,GAAGA,QAAQ;MACXpB,MAAM,EAAEmB,YAAY;MACpBlB,MAAM,EAAE;IACV,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMoB,YAAY,GAAGA,CAAA,KAAM;IAAA,IAAAC,gBAAA,EAAAC,mBAAA,EAAAC,aAAA,EAAAC,gBAAA,EAAAC,mBAAA;IACzB,MAAMC,SAAS,GAAG,CAAC,CAAC;IACpB,MAAMC,WAAW,GAAG,4CAA4C;IAEhE,IAAI,GAAAN,gBAAA,GAAChC,QAAQ,CAACE,MAAM,cAAA8B,gBAAA,eAAfA,gBAAA,CAAiBO,IAAI,CAAC,CAAC,GAAEF,SAAS,CAACnC,MAAM,GAAG,yBAAyB;IAC1E,IAAI,GAAA+B,mBAAA,GAACjC,QAAQ,CAACG,SAAS,cAAA8B,mBAAA,eAAlBA,mBAAA,CAAoBM,IAAI,CAAC,CAAC,GAAEF,SAAS,CAAClC,SAAS,GAAG,+BAA+B;IACtF,IAAI,GAAA+B,aAAA,GAAClC,QAAQ,CAACI,GAAG,cAAA8B,aAAA,eAAZA,aAAA,CAAcK,IAAI,CAAC,CAAC,GAAEF,SAAS,CAACjC,GAAG,GAAG,sBAAsB;IACjE,IAAI,GAAA+B,gBAAA,GAACnC,QAAQ,CAACK,MAAM,cAAA8B,gBAAA,eAAfA,gBAAA,CAAiBI,IAAI,CAAC,CAAC,GAAEF,SAAS,CAAChC,MAAM,GAAG,yBAAyB,CAAC,KACtE,IAAI,CAACiC,WAAW,CAACE,IAAI,CAACxC,QAAQ,CAACK,MAAM,CAAC,EAAEgC,SAAS,CAAChC,MAAM,GAAG,mEAAmE,CAAC,KAC/H;MACH,MAAMoC,eAAe,GAAGC,KAAK,CAACC,OAAO,CAAC7C,QAAQ,CAAC,IAAIA,QAAQ,CAACsB,IAAI,CAACwB,CAAC,IAAIA,CAAC,CAACvC,MAAM,CAACwC,WAAW,CAAC,CAAC,KAAK7C,QAAQ,CAACK,MAAM,CAACwC,WAAW,CAAC,CAAC,CAAC;MAC/H,IAAI,CAAC5B,SAAS,IAAIwB,eAAe,EAAE;QACjCJ,SAAS,CAAChC,MAAM,GAAG,iCAAiC;MACtD;MACA,IAAIY,SAAS,IAAIwB,eAAe,IAAIA,eAAe,CAACpC,MAAM,KAAKV,IAAI,CAACU,MAAM,EAAE;QAC1EgC,SAAS,CAAChC,MAAM,GAAG,0CAA0C;MAC/D;IACF;IACA,IAAI,CAACY,SAAS,IAAIjB,QAAQ,CAACM,UAAU,EAAE;MACrC,IAAI,CAACN,QAAQ,CAACM,UAAU,EAAE+B,SAAS,CAAC/B,UAAU,GAAG,6BAA6B,CAAC,KAC1E,IAAIN,QAAQ,CAACM,UAAU,CAACwC,MAAM,GAAG,CAAC,IAAI9C,QAAQ,CAACM,UAAU,CAACwC,MAAM,GAAG,EAAE,EAAET,SAAS,CAAC/B,UAAU,GAAG,gDAAgD;MAEnJ,IAAIN,QAAQ,CAACM,UAAU,IAAIN,QAAQ,CAACM,UAAU,KAAKN,QAAQ,CAACO,mBAAmB,EAAE;QAC/E8B,SAAS,CAAC9B,mBAAmB,GAAG,+BAA+B;MACjE;MACA,IAAIP,QAAQ,CAACM,UAAU,IAAI,CAACN,QAAQ,CAACO,mBAAmB,EAAE;QACxD8B,SAAS,CAAC9B,mBAAmB,GAAG,+BAA+B;MACjE;IACF;;IAEA;IACA,IAAI,GAAA6B,mBAAA,GAACpC,QAAQ,CAACQ,SAAS,cAAA4B,mBAAA,eAAlBA,mBAAA,CAAoBG,IAAI,CAAC,CAAC,GAAEF,SAAS,CAAC7B,SAAS,GAAG,4BAA4B;IACnF,IAAI,CAACR,QAAQ,CAACU,MAAM,EAAE2B,SAAS,CAAC3B,MAAM,GAAG,yBAAyB;IAClE,IAAI,CAACV,QAAQ,CAACW,MAAM,EAAE0B,SAAS,CAAC1B,MAAM,GAAG,yBAAyB;IAElEK,SAAS,CAACqB,SAAS,CAAC;IACpB,OAAOU,MAAM,CAACC,IAAI,CAACX,SAAS,CAAC,CAACS,MAAM,KAAK,CAAC;EAC5C,CAAC;EAGD,MAAMG,YAAY,GAAIzB,CAAC,IAAK;IAC1BA,CAAC,CAAC0B,cAAc,CAAC,CAAC;IAClB,IAAInB,YAAY,CAAC,CAAC,EAAE;MAClB,MAAM;QAAExB,mBAAmB;QAAE,GAAG4C;MAAe,CAAC,GAAGnD,QAAQ;MAC3D,IAAIiB,SAAS,IAAI,CAACkC,cAAc,CAAC7C,UAAU,EAAE;QAC3C,OAAO6C,cAAc,CAAC7C,UAAU;MAClC;MACAV,MAAM,CAACuD,cAAc,CAAC;IAExB,CAAC,MAAM;MACLC,KAAK,CAAC,iDAAiD,CAAC;IAC1D;EACF,CAAC;EAGD,oBACE7D,OAAA;IAAK8D,SAAS,EAAC,yCAAyC;IAAAC,QAAA,gBACtD/D,OAAA;MAAA+D,QAAA,EAAKrC,SAAS,GAAG,mBAAmB,GAAG;IAAuB;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACpEnE,OAAA;MAAMoE,QAAQ,EAAEV,YAAa;MAAAK,QAAA,gBAI3B/D,OAAA;QAAK8D,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAClB/D,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7CnE,OAAA;YAAOqE,IAAI,EAAC,MAAM;YAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACb,MAAM,GAAG,YAAY,GAAG,EAAE,EAAG;YAACuB,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAE1B,QAAQ,CAACE,MAAM,IAAI,EAAG;YAAC2D,QAAQ,EAAEtC;UAAa;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACxJ3C,MAAM,CAACb,MAAM,iBAAIX,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACb;UAAM;YAAAqD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC,eACNnE,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChDnE,OAAA;YAAOqE,IAAI,EAAC,MAAM;YAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACZ,SAAS,GAAG,YAAY,GAAG,EAAE,EAAG;YAACsB,IAAI,EAAC,WAAW;YAACC,KAAK,EAAE1B,QAAQ,CAACG,SAAS,IAAI,EAAG;YAAC0D,QAAQ,EAAEtC;UAAa;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACjK3C,MAAM,CAACZ,SAAS,iBAAIZ,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACZ;UAAS;YAAAoD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5E,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnE,OAAA;QAAK8D,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAClB/D,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1CnE,OAAA;YAAOqE,IAAI,EAAC,MAAM;YAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACX,GAAG,GAAG,YAAY,GAAG,EAAE,EAAG;YAACqB,IAAI,EAAC,KAAK;YAACC,KAAK,EAAE1B,QAAQ,CAACI,GAAG,IAAI,EAAG;YAACyD,QAAQ,EAAEtC,YAAa;YAACuC,WAAW,EAAC;UAAgB;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC5K3C,MAAM,CAACX,GAAG,iBAAIb,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACX;UAAG;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC,eACNnE,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzDnE,OAAA;YAAOqE,IAAI,EAAC,KAAK;YAACP,SAAS,EAAC,cAAc;YAAC5B,IAAI,EAAC,UAAU;YAACC,KAAK,EAAE1B,QAAQ,CAACS,QAAQ,IAAI,EAAG;YAACoD,QAAQ,EAAEtC;UAAa;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnE,OAAA;QAAK8D,SAAS,EAAC,KAAK;QAAAC,QAAA,eAClB/D,OAAA;UAAK8D,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7CnE,OAAA;YAAOqE,IAAI,EAAC,OAAO;YAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACV,MAAM,GAAG,YAAY,GAAG,EAAE,EAAG;YAACoB,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAE1B,QAAQ,CAACK,MAAM,IAAI,EAAG;YAACwD,QAAQ,EAAEtC,YAAa;YAACwC,QAAQ,EAAE9C;UAAU;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC9K3C,MAAM,CAACV,MAAM,iBAAId,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACV;UAAM;YAAAkD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACxEzC,SAAS,iBAAI1B,OAAA;YAAO8D,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAAgC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnE,OAAA;QAAK8D,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAClB/D,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAC,iBAAY,EAACrC,SAAS,IAAI,mCAAmC;UAAA;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpGnE,OAAA;YAAOqE,IAAI,EAAC,UAAU;YAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACT,UAAU,GAAG,YAAY,GAAG,EAAE,EAAG;YAACmB,IAAI,EAAC,YAAY;YAACC,KAAK,EAAE1B,QAAQ,CAACM,UAAU,IAAI,EAAG;YAACuD,QAAQ,EAAEtC;UAAa;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACxK3C,MAAM,CAACT,UAAU,iBAAIf,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACT;UAAU;YAAAiD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9E,CAAC,eACNnE,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,EAC3B,CAAC,CAACrC,SAAS,IAAIjB,QAAQ,CAACM,UAAU,kBACjCf,OAAA,CAAAE,SAAA;YAAA6D,QAAA,gBACE/D,OAAA;cAAO8D,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3DnE,OAAA;cAAOqE,IAAI,EAAC,UAAU;cAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACR,mBAAmB,GAAG,YAAY,GAAG,EAAE,EAAG;cAACkB,IAAI,EAAC,qBAAqB;cAACC,KAAK,EAAE1B,QAAQ,CAACO,mBAAmB,IAAI,EAAG;cAACsD,QAAQ,EAAEtC;YAAa;cAAAgC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACnM3C,MAAM,CAACR,mBAAmB,iBAAIhB,OAAA;cAAK8D,SAAS,EAAC,kBAAkB;cAAAC,QAAA,EAAEvC,MAAM,CAACR;YAAmB;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,eACnG;QACH;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnE,OAAA;QAAK8D,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB/D,OAAA;UAAO8D,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAA2B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjEnE,OAAA;UAAOqE,IAAI,EAAC,MAAM;UAACP,SAAS,EAAE,gBAAgBtC,MAAM,CAACP,SAAS,GAAG,YAAY,GAAG,EAAE,EAAG;UAACiB,IAAI,EAAC,WAAW;UAACC,KAAK,EAAE1B,QAAQ,CAACQ,SAAS,IAAI,EAAG;UAACqD,QAAQ,EAAEtC,YAAa;UAACuC,WAAW,EAAC;QAAyB;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACvM3C,MAAM,CAACP,SAAS,iBAAIjB,OAAA;UAAK8D,SAAS,EAAC,kBAAkB;UAAAC,QAAA,EAAEvC,MAAM,CAACP;QAAS;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5E,CAAC,eAENnE,OAAA;QAAK8D,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAClB/D,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7CnE,OAAA;YAAQ8D,SAAS,EAAE,eAAetC,MAAM,CAACL,MAAM,GAAG,YAAY,GAAG,EAAE,EAAG;YAACe,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAE1B,QAAQ,CAACU,MAAM,IAAI,EAAG;YAACmD,QAAQ,EAAEjC,kBAAmB;YAAA0B,QAAA,gBAC9I/D,OAAA;cAAQmC,KAAK,EAAC,EAAE;cAAA4B,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC7CrE,gBAAgB,CAAC2E,GAAG,CAACtD,MAAM,iBAAKnB,OAAA;cAA4BmC,KAAK,EAAEhB,MAAM,CAACR,MAAO;cAAAoD,QAAA,EAAE5C,MAAM,CAACR;YAAM,GAAnDQ,MAAM,CAACR,MAAM;cAAAqD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA+C,CAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvG,CAAC,EACR3C,MAAM,CAACL,MAAM,iBAAInB,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACL;UAAM;YAAA6C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC,eACNnE,OAAA;UAAK8D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/D,OAAA;YAAO8D,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7CnE,OAAA;YAAQ8D,SAAS,EAAE,eAAetC,MAAM,CAACJ,MAAM,GAAG,YAAY,GAAG,EAAE,EAAG;YAACc,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAE1B,QAAQ,CAACW,MAAM,IAAI,EAAG;YAACkD,QAAQ,EAAEtC,YAAa;YAACwC,QAAQ,EAAElD,kBAAkB,CAACiC,MAAM,KAAK,CAAE;YAAAQ,QAAA,gBACnL/D,OAAA;cAAQmC,KAAK,EAAC,EAAE;cAAA4B,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC7C7C,kBAAkB,CAACmD,GAAG,CAACrD,MAAM,iBAAKpB,OAAA;cAAqBmC,KAAK,EAAEf,MAAO;cAAA2C,QAAA,EAAE3C;YAAM,GAA9BA,MAAM;cAAA4C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiC,CAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpF,CAAC,EACR3C,MAAM,CAACJ,MAAM,iBAAIpB,OAAA;YAAK8D,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAEvC,MAAM,CAACJ;UAAM;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNnE,OAAA;QAAK8D,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB/D,OAAA;UAAO8D,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpEnE,OAAA;UACE8D,SAAS,EAAC,aAAa;UACvB5B,IAAI,EAAC,KAAK;UACVC,KAAK,EAAE1B,QAAQ,CAACY,GAAG,IAAI,SAAU;UACjCiD,QAAQ,EAAEtC,YAAa;UAAA+B,QAAA,gBAEvB/D,OAAA;YAAQmC,KAAK,EAAC,SAAS;YAAA4B,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpDnE,OAAA;YAAQmC,KAAK,EAAC,UAAU;YAAA4B,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnDnE,OAAA;YAAQmC,KAAK,EAAC,OAAO;YAAA4B,QAAA,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACTnE,OAAA;UAAO8D,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAE9B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENnE,OAAA;QAAK8D,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9C/D,OAAA;UAAQqE,IAAI,EAAC,QAAQ;UAACP,SAAS,EAAC,wBAAwB;UAACY,OAAO,EAAEpE,QAAS;UAAAyD,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC7FnE,OAAA;UAAQqE,IAAI,EAAC,QAAQ;UAACP,SAAS,EAAC,QAAQ;UAAAC,QAAA,gBACtC/D,OAAA;YAAG8D,SAAS,EAAE,OAAOpC,SAAS,GAAG,SAAS,GAAG,SAAS;UAAQ;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAClEzC,SAAS,GAAG,iBAAiB,GAAG,iBAAiB;QAAA;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC3D,EAAA,CAjNuBL,gBAAgB;AAAAwE,EAAA,GAAhBxE,gBAAgB;AAAA,IAAAwE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}